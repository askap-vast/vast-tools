<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Python module to interact with ASKAP VAST data."><meta name=author content="VAST Development Team"><link href=../pipeline/ rel=prev><link href=../source/ rel=next><link rel=icon href=../../img/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.30"><title>Query - VAST Tools</title><link rel=stylesheet href=../../assets/stylesheets/main.3cba04c6.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../css/lightgallery.min.css><script src=../../js/lightgallery.min.js></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../theme/css/extra.css><link rel=stylesheet href=../../css/ansi-colours.css><link rel=stylesheet href=../../css/jupyter-cells.css><link rel=stylesheet href=../../css/pandas-dataframe.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta property=og:type content=website><meta property=og:title content="VAST Tools - Query"><meta property=og:description content="Python module to interact with ASKAP VAST data."><meta property=og:url content=None></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#query class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <style>
      .md-banner a,
      .md-banner a:focus,
      .md-banner a:hover{color:currentColor}.md-banner
      strong{white-space:nowrap}.md-banner}
  </style> <a href=../../changelog/ ><strong>Version 3.2.0 released!</strong> Includes minor plotting changes, various dependency upgrades and and more ðŸ™Œ Check the <strong>release notes! ðŸ‘€</strong></a> </div> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="VAST Tools" class="md-header__button md-logo" aria-label="VAST Tools" data-md-component=logo> <img src=../../img/vast-logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> VAST Tools </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Query </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/askap-vast/vast-tools title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> askap-vast/vast-tools </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../getting_started/introduction/ class=md-tabs__link> Getting Started </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../mocs/ class=md-tabs__link> Components & Features </a> </li> <li class=md-tabs__item> <a href=../../notebook-examples/notebooks-overview/ class=md-tabs__link> Example Notebooks </a> </li> <li class=md-tabs__item> <a href=../../contributing/develop/ class=md-tabs__link> Contributing & Developing </a> </li> <li class=md-tabs__item> <a href=../../help_and_acknowledgements/ class=md-tabs__link> Help and Acknowledgements </a> </li> <li class=md-tabs__item> <a href=../../changelog/ class=md-tabs__link> Reference </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="VAST Tools" class="md-nav__button md-logo" aria-label="VAST Tools" data-md-component=logo> <img src=../../img/vast-logo.png alt=logo> </a> VAST Tools </label> <div class=md-nav__source> <a href=https://github.com/askap-vast/vast-tools title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> askap-vast/vast-tools </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting_started/introduction/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../../getting_started/configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration & Data Access </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Components & Features </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Components & Features </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../mocs/ class=md-nav__link> <span class=md-ellipsis> MOCs </span> </a> </li> <li class=md-nav__item> <a href=../pipeline/ class=md-nav__link> <span class=md-ellipsis> Pipeline </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Query </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Query </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#using-the-query-component class=md-nav__link> <span class=md-ellipsis> Using the Query Component </span> </a> <nav class=md-nav aria-label="Using the Query Component"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constructing-a-query class=md-nav__link> <span class=md-ellipsis> Constructing a Query </span> </a> <nav class=md-nav aria-label="Constructing a Query"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#entering-the-coordinates-to-query class=md-nav__link> <span class=md-ellipsis> Entering the Coordinates to Query </span> </a> </li> <li class=md-nav__item> <a href=#crossmatching-options class=md-nav__link> <span class=md-ellipsis> Crossmatching Options </span> </a> </li> <li class=md-nav__item> <a href=#data-selection-options class=md-nav__link> <span class=md-ellipsis> Data Selection Options </span> </a> </li> <li class=md-nav__item> <a href=#planet-search class=md-nav__link> <span class=md-ellipsis> Planet Search </span> </a> </li> <li class=md-nav__item> <a href=#rms-forced-fits class=md-nav__link> <span class=md-ellipsis> RMS &amp; Forced Fits </span> </a> </li> <li class=md-nav__item> <a href=#checking-settings class=md-nav__link> <span class=md-ellipsis> Checking Settings </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#running-a-query class=md-nav__link> <span class=md-ellipsis> Running a Query </span> </a> <nav class=md-nav aria-label="Running a Query"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#find_fields class=md-nav__link> <span class=md-ellipsis> find_fields </span> </a> </li> <li class=md-nav__item> <a href=#find_sources class=md-nav__link> <span class=md-ellipsis> find_sources </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-the-query-results class=md-nav__link> <span class=md-ellipsis> Using the Query Results </span> </a> <nav class=md-nav aria-label="Using the Query Results"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#find_fields-results class=md-nav__link> <span class=md-ellipsis> find_fields Results </span> </a> </li> <li class=md-nav__item> <a href=#find_sources-results class=md-nav__link> <span class=md-ellipsis> find_sources Results </span> </a> </li> <li class=md-nav__item> <a href=#forced-fits-results class=md-nav__link> <span class=md-ellipsis> Forced Fits Results </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#find_sources-script class=md-nav__link> <span class=md-ellipsis> find_sources script </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../source/ class=md-nav__link> <span class=md-ellipsis> Source </span> </a> </li> <li class=md-nav__item> <a href=../survey/ class=md-nav__link> <span class=md-ellipsis> Survey </span> </a> </li> <li class=md-nav__item> <a href=../tools/ class=md-nav__link> <span class=md-ellipsis> Tools </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_7> <label class=md-nav__link for=__nav_3_7 id=__nav_3_7_label tabindex> <span class=md-ellipsis> Scripts </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_7> <span class="md-nav__icon md-icon"></span> Scripts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../scripts/build_lightcurves/ class=md-nav__link> <span class=md-ellipsis> build_lightcurves </span> </a> </li> <li class=md-nav__item> <a href=../../scripts/find_sources/ class=md-nav__link> <span class=md-ellipsis> find_sources </span> </a> </li> <li class=md-nav__item> <a href=../../scripts/pilot_fields_info/ class=md-nav__link> <span class=md-ellipsis> pilot_fields_info </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Example Notebooks </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Example Notebooks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../notebook-examples/notebooks-overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../notebook-examples/catalogue-crossmatching-example/ class=md-nav__link> <span class=md-ellipsis> Catalogue Crossmatch </span> </a> </li> <li class=md-nav__item> <a href=../../notebook-examples/planet-hunting-example/ class=md-nav__link> <span class=md-ellipsis> Planet Searching </span> </a> </li> <li class=md-nav__item> <a href=../../notebook-examples/source-search-example/ class=md-nav__link> <span class=md-ellipsis> Query Source Search </span> </a> </li> <li class=md-nav__item> <a href=../../notebook-examples/using-vast-mocs-example/ class=md-nav__link> <span class=md-ellipsis> Using VAST MOCs </span> </a> </li> <li class=md-nav__item> <a href=../../notebook-examples/vast-pipeline-example/ class=md-nav__link> <span class=md-ellipsis> VAST Pipeline Exploration </span> </a> </li> <li class=md-nav__item> <a href=../../notebook-examples/workshop-notebook-2023/ class=md-nav__link> <span class=md-ellipsis> VAST Workshop 2023 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Contributing & Developing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Contributing & Developing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../contributing/develop/ class=md-nav__link> <span class=md-ellipsis> Developing VAST Tools </span> </a> </li> <li class=md-nav__item> <a href=../../contributing/github/ class=md-nav__link> <span class=md-ellipsis> GitHub Platform </span> </a> </li> <li class=md-nav__item> <a href=../../contributing/tests/ class=md-nav__link> <span class=md-ellipsis> Tests </span> </a> </li> <li class=md-nav__item> <a href=../../contributing/docsdev/ class=md-nav__link> <span class=md-ellipsis> Documentation </span> </a> </li> <li class=md-nav__item> <a href=../../contributing/newepoch/ class=md-nav__link> <span class=md-ellipsis> Adding a New Epoch </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../help_and_acknowledgements/ class=md-nav__link> <span class=md-ellipsis> Help and Acknowledgements </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class=md-nav__item> <a href=../../code_of_conduct/ class=md-nav__link> <span class=md-ellipsis> Code of Conduct </span> </a> </li> <li class=md-nav__item> <a href=../../license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_4> <label class=md-nav__link for=__nav_7_4 id=__nav_7_4_label tabindex=0> <span class=md-ellipsis> Code Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_4_label aria-expanded=false> <label class=md-nav__title for=__nav_7_4> <span class="md-nav__icon md-icon"></span> Code Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_4_1> <label class=md-nav__link for=__nav_7_4_1 id=__nav_7_4_1_label tabindex=0> <span class=md-ellipsis> vast_tools </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_7_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_4_1> <span class="md-nav__icon md-icon"></span> vast_tools </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_4_1_1> <label class=md-nav__link for=__nav_7_4_1_1 id=__nav_7_4_1_1_label tabindex=0> <span class=md-ellipsis> bin </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_7_4_1_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_4_1_1> <span class="md-nav__icon md-icon"></span> bin </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/bin/build_lightcurves/ class=md-nav__link> <span class=md-ellipsis> build_lightcurves.py </span> </a> </li> <li class=md-nav__item> <a href=../../reference/bin/find_sources/ class=md-nav__link> <span class=md-ellipsis> find_sources.py </span> </a> </li> <li class=md-nav__item> <a href=../../reference/bin/pilot_fields_info/ class=md-nav__link> <span class=md-ellipsis> pilot_fields_info.py </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../reference/moc/ class=md-nav__link> <span class=md-ellipsis> moc.py </span> </a> </li> <li class=md-nav__item> <a href=../../reference/pipeline/ class=md-nav__link> <span class=md-ellipsis> pipeline.py </span> </a> </li> <li class=md-nav__item> <a href=../../reference/query/ class=md-nav__link> <span class=md-ellipsis> query.py </span> </a> </li> <li class=md-nav__item> <a href=../../reference/source/ class=md-nav__link> <span class=md-ellipsis> source.py </span> </a> </li> <li class=md-nav__item> <a href=../../reference/survey/ class=md-nav__link> <span class=md-ellipsis> survey.py </span> </a> </li> <li class=md-nav__item> <a href=../../reference/tools/ class=md-nav__link> <span class=md-ellipsis> tools.py </span> </a> </li> <li class=md-nav__item> <a href=../../reference/utils/ class=md-nav__link> <span class=md-ellipsis> utils.py </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#using-the-query-component class=md-nav__link> <span class=md-ellipsis> Using the Query Component </span> </a> <nav class=md-nav aria-label="Using the Query Component"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constructing-a-query class=md-nav__link> <span class=md-ellipsis> Constructing a Query </span> </a> <nav class=md-nav aria-label="Constructing a Query"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#entering-the-coordinates-to-query class=md-nav__link> <span class=md-ellipsis> Entering the Coordinates to Query </span> </a> </li> <li class=md-nav__item> <a href=#crossmatching-options class=md-nav__link> <span class=md-ellipsis> Crossmatching Options </span> </a> </li> <li class=md-nav__item> <a href=#data-selection-options class=md-nav__link> <span class=md-ellipsis> Data Selection Options </span> </a> </li> <li class=md-nav__item> <a href=#planet-search class=md-nav__link> <span class=md-ellipsis> Planet Search </span> </a> </li> <li class=md-nav__item> <a href=#rms-forced-fits class=md-nav__link> <span class=md-ellipsis> RMS &amp; Forced Fits </span> </a> </li> <li class=md-nav__item> <a href=#checking-settings class=md-nav__link> <span class=md-ellipsis> Checking Settings </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#running-a-query class=md-nav__link> <span class=md-ellipsis> Running a Query </span> </a> <nav class=md-nav aria-label="Running a Query"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#find_fields class=md-nav__link> <span class=md-ellipsis> find_fields </span> </a> </li> <li class=md-nav__item> <a href=#find_sources class=md-nav__link> <span class=md-ellipsis> find_sources </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-the-query-results class=md-nav__link> <span class=md-ellipsis> Using the Query Results </span> </a> <nav class=md-nav aria-label="Using the Query Results"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#find_fields-results class=md-nav__link> <span class=md-ellipsis> find_fields Results </span> </a> </li> <li class=md-nav__item> <a href=#find_sources-results class=md-nav__link> <span class=md-ellipsis> find_sources Results </span> </a> </li> <li class=md-nav__item> <a href=#forced-fits-results class=md-nav__link> <span class=md-ellipsis> Forced Fits Results </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#find_sources-script class=md-nav__link> <span class=md-ellipsis> find_sources script </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=query>Query<a class=headerlink href=#query title="Permanent link">&para;</a></h1> <p>The <code>Query</code> component of VAST Tools is used to query the VAST Pilot Survey data directly.</p> <div class="admonition warning"> <p class=admonition-title>Deprecation Warning</p> <p>The completion of the <a href=https://vast-survey.org/vast-pipeline/ target=_blank>VAST Pipeline</a> means that some functionality of this component has been superseded. To perform tasks such as:</p> <ul> <li>searching for sources in the VAST Pilot Survey,</li> <li>crossmatching the VAST Pilot Survey to other catalogues,</li> <li>obtaining lightcurves and postage stamps of sources,</li> <li>and performing transient searches,</li> </ul> <p>output from the VAST Pipeline should always be used.</p> <p>Users may find features such as the forced fitting and stokes V search options still useful.</p> </div> <p>The base function of a <code>Query</code> is to search the VAST Pilot catalogues for source matches to the queried positions. If no source is found in an epoch then the upper limit or forced fit measurement is returned. In full, the <code>Query</code> component as the ability to:</p> <ul> <li>determine whether provided coordinates are in the VAST Pilot survey, and if so, which field(s) the source present in (no data required),</li> <li>find source matches to provided coordinates,</li> <li>perform forced fit and upper limit measurements</li> <li>attempt to construct a lightcurve for the source,</li> <li>create postage stamps for sources, with overlays and save as fits or png files,</li> <li>search stokes V data,</li> <li>search for planets and the Sun and Moon.</li> </ul> <div class="admonition warning"> <p class=admonition-title>Warning: Data Access</p> <p>It is assumed that the machine that is running VAST Tools has access to the VAST Pilot Survey release output. Refer to the <a href=../../getting_started/configuration/ >Configuration &amp; Data Access</a> page for more information. If the user only has access to an incomplete version of the dataset, the code will automatically remove the data that is unavailable, allowing the query to proceed.</p> </div> <div class="admonition tip"> <p class=admonition-title>Tip: <code>find_sources</code> script</p> <p>It is not ideal to perform large queries in a notebook environment. For these situations there is the <a href=../../scripts/find_sources/ ><code>find_sources</code></a> script that can be used to perform a large search in a non-interactive manner.</p> </div> <h2 id=using-the-query-component>Using the Query Component<a class=headerlink href=#using-the-query-component title="Permanent link">&para;</a></h2> <div class="admonition info"> <p class=admonition-title>Info: Query Notebook Example</p> <p>An example notebook of using the Query component can be found in the example notebooks section <a href=../../notebook-examples/source-search-example/ >here</a>.</p> </div> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C262.7 6.7 246.5 0 229.5 0H64zm56 256c-13.3 0-24 10.7-24 24s10.7 24 24 24h144c13.3 0 24-10.7 24-24s-10.7-24-24-24H120zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24h144c13.3 0 24-10.7 24-24s-10.7-24-24-24H120z"/></svg></span> <a href=../../reference/query/#vasttools.query.Query>Code reference</a>.</p> <p>A <code>Query</code> instance can be imported from <code>vasttools.query</code>:</p> <div class="admonition example"> <p class=admonition-title>Example</p> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>vasttools.query</span> <span class=kn>import</span> <span class=n>Query</span>
</code></pre></div> </div> <div class="admonition warning"> <p class=admonition-title>Warning: Running a Query inside a script</p> <p>The main <code>Query</code> functions use multiprocessing to speed up large queries. Users who attempt to call a query from their own scripts may encounter a Dask RuntimeError which, due to the nature of the error, cannot be nicely caught with the <code>vasttools</code> module. The solution is to ensure that all calls to <code>Query</code> functions are protected within a <code>if __name__ == '__main__'</code> statement, i.e. <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>vasttools.query</span> <span class=kn>import</span> <span class=n>Query</span>

<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>my_query</span> <span class=o>=</span> <span class=n>Query</span><span class=p>(</span><span class=n>source_names</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;PSR J2129-04&quot;</span><span class=p>])</span>
    <span class=n>my_query</span><span class=o>.</span><span class=n>find_sources</span><span class=p>()</span>
</code></pre></div></p> </div> <h3 id=constructing-a-query>Constructing a Query<a class=headerlink href=#constructing-a-query title="Permanent link">&para;</a></h3> <p>The <code>Query</code> is defined on the initialisation of the instance. In other words, when the <code>Query</code> is first defined all the desired <code>Query</code> arguments must be entered so the <code>Query</code> is initialised correctly.</p> <div class="admonition info"> <p class=admonition-title>Info: Query Initialisation Arguments</p> <p>Please refer to the code reference <a href=../../reference/query/#vasttools.query.Query.__init__>here</a> for details on all the arguments that can be passed to the query.</p> </div> <p>For example, the code below demonstrates how to create a Query object that will use the RA and Dec coordinate <code>21:29:45.29 -04:29:11.9</code> to perform a search.</p> <div class="admonition example"> <p class=admonition-title>Example</p> <p>Note that when entering coordinates to query these need to be represented by an astropy <a href=https://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html target=_blank><code>SkyCoord</code></a> object. Creating the <code>SkyCoord</code> instance is also performed in the example. <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>vasttools.query</span> <span class=kn>import</span> <span class=n>Query</span>
<span class=kn>from</span> <span class=nn>astropy.coordinates</span> <span class=kn>import</span> <span class=n>SkyCoord</span>

<span class=n>my_coord</span> <span class=o>=</span> <span class=n>SkyCoord</span><span class=p>(</span><span class=s2>&quot;21h29m45.29s -04d29m11.9s&quot;</span><span class=p>)</span>

<span class=n>my_query</span> <span class=o>=</span> <span class=n>Query</span><span class=p>(</span><span class=n>coords</span><span class=o>=</span><span class=n>my_coord</span><span class=p>)</span>
</code></pre></div></p> </div> <p>See the <a href=#entering-the-coordinates-to-query>following section</a> for details on how to enter coordinates or how to instead use object names as the coordinate input.</p> <div class="admonition note"> <p class=admonition-title>Note: Query Execution</p> <p>Initialising the <code>Query</code> does not automatically execute the search. Refer to the <a href=#running-a-query>Running a Query</a> section on this document page for full details on running a <code>Query</code>.</p> </div> <h4 id=entering-the-coordinates-to-query>Entering the Coordinates to Query<a class=headerlink href=#entering-the-coordinates-to-query title="Permanent link">&para;</a></h4> <p>Coordinates passed to the <code>coords</code> parameter in the <code>Query</code> object must be entered as an astropy <a href=https://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html target=_blank><code>SkyCoord</code></a> object. The SkyCoord object can be a singular coordinate or contain multiple coordinates.</p> <div class="admonition example"> <p class=admonition-title>Example: Multiple Coordinates</p> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>vasttools.query</span> <span class=kn>import</span> <span class=n>Query</span>
<span class=kn>from</span> <span class=nn>astropy.coordinates</span> <span class=kn>import</span> <span class=n>SkyCoord</span>

<span class=n>coords_list</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;21h29m45.29s -04d29m11.9s&quot;</span><span class=p>,</span> <span class=s2>&quot;21h18m50.70s -57d38m42.5s&quot;</span><span class=p>]</span>

<span class=n>my_coord</span> <span class=o>=</span> <span class=n>SkyCoord</span><span class=p>(</span><span class=n>coords_list</span><span class=p>)</span>

<span class=n>my_query</span> <span class=o>=</span> <span class=n>Query</span><span class=p>(</span><span class=n>coords</span><span class=o>=</span><span class=n>my_coord</span><span class=p>)</span>
</code></pre></div> </div> <p>The <code>source_names</code> parameter can be used to enter names of the sources alongside the coordinates. The future results of the query will then be accessible using these source names. If not source names are provided then they will be automatically named using the degrees representation of the coordinates in the format <code>ra_dec</code>.</p> <div class="admonition example"> <p class=admonition-title>Example: Multiple Coordinates</p> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>vasttools.query</span> <span class=kn>import</span> <span class=n>Query</span>
<span class=kn>from</span> <span class=nn>astropy.coordinates</span> <span class=kn>import</span> <span class=n>SkyCoord</span>

<span class=n>coords_list</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;21h29m45.29s -04d29m11.9s&quot;</span><span class=p>,</span> <span class=s2>&quot;21h18m50.70s -57d38m42.5s&quot;</span><span class=p>]</span>
<span class=n>my_source_names</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;PSR J2129-04&quot;</span><span class=p>,</span> <span class=s2>&quot;SN 2012dy&quot;</span><span class=p>]</span>

<span class=n>my_coord</span> <span class=o>=</span> <span class=n>SkyCoord</span><span class=p>(</span><span class=n>coords_list</span><span class=p>)</span>

<span class=n>my_query</span> <span class=o>=</span> <span class=n>Query</span><span class=p>(</span><span class=n>coords</span><span class=o>=</span><span class=n>my_coord</span><span class=p>,</span> <span class=n>source_names</span><span class=o>=</span><span class=n>my_source_names</span><span class=p>)</span>
</code></pre></div> </div> <p>It is also possible to only define the <code>source_names</code> parameter. If this is done then the Query will use the <a href=https://simbad.u-strasbg.fr/simbad/ target=_blank><code>CDS SIMBAD</code></a> service to attempt to fetch the coordinates for the requested sources.</p> <div class="admonition example"> <p class=admonition-title>Example: Source Names Only</p> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>vasttools.query</span> <span class=kn>import</span> <span class=n>Query</span>
<span class=kn>from</span> <span class=nn>astropy.coordinates</span> <span class=kn>import</span> <span class=n>SkyCoord</span>

<span class=n>my_source_names</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;PSR J2129-04&quot;</span><span class=p>,</span> <span class=s2>&quot;SN 2012dy&quot;</span><span class=p>]</span>

<span class=n>my_query</span> <span class=o>=</span> <span class=n>Query</span><span class=p>(</span><span class=n>source_names</span><span class=o>=</span><span class=n>my_source_names</span><span class=p>)</span>
</code></pre></div> </div> <div class="admonition warning"> <p class=admonition-title>Warning: Do Not Mix Methods</p> <p>If <code>source_names</code> are entered then all names must have a matching coordinate. I.e., if an extra source name is entered this will not be searched for using <code>SIMBAD</code> and will return an error.</p> </div> <h4 id=crossmatching-options>Crossmatching Options<a class=headerlink href=#crossmatching-options title="Permanent link">&para;</a></h4> <p>There are two options that control how the crossmatching to the VAST catalogues is performed.</p> <p><strong><code>crossmatch_radius</code></strong><br> This is the radius, in arcsec, to which a VAST Pilot source is considered a match to the search coordinate.</p> <p><strong><code>max_sep</code></strong><br> The maximum distance, in degrees, from the centre of an individual beam (36 beams make up an ASKAP tile) to determine if a match is possible. This defaults to 1.5 degrees.</p> <div class="admonition note"> <p class=admonition-title>Note: Field Selection</p> <p>When the query is made, if the source is found in two separate overlapping fields, all fields will be noted as a match but field used will be that which has the coordinate location closest to the centre of its respective field.</p> </div> <p><strong><code>search_around_coordinates</code></strong> All matches within the <code>crossmatch_radius</code> are returned instead of just the closest matched component or island.</p> <h4 id=data-selection-options>Data Selection Options<a class=headerlink href=#data-selection-options title="Permanent link">&para;</a></h4> <p>These <code>Query</code> keyword arguments control the data that is used to perform the query or the data returned.</p> <p><strong><code>epochs</code></strong><br> A list of epochs or a comma-separated string of epochs to search. Do not use zero padded values when entering the epochs. The values <code>all</code> and <code>all-vast</code> are also valid, selecting all RACS &amp; VAST data or just VAST data, respectively.</p> <p>The pilot survey used an <code>x</code> to designate an epoch that was only partially observed. This can be supplied, but is not necessary.</p> <div class="admonition example"> <p class=admonition-title>Example: Defining the epochs parameter</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:3><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><input id=__tabbed_1_3 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Comma-separated string</label><label for=__tabbed_1_2>List of strings</label><label for=__tabbed_1_3>List of ints</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>my_query</span> <span class=o>=</span> <span class=n>Query</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>epochs</span><span class=o>=</span><span class=s2>&quot;1,2,6x,8,9&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>my_query</span> <span class=o>=</span> <span class=n>Query</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>epochs</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;1&quot;</span><span class=p>,</span><span class=s2>&quot;2&quot;</span><span class=p>,</span><span class=s2>&quot;6x&quot;</span><span class=p>,</span><span class=s2>&quot;8&quot;</span><span class=p>,</span><span class=s2>&quot;9&quot;</span><span class=p>])</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>my_query</span> <span class=o>=</span> <span class=n>Query</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>epochs</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>])</span>
</code></pre></div> </div> </div> </div> </div> <p><strong><code>stokes</code></strong><br> Select which Stokes parameter data to search in. Valid entries are <code>I</code>, <code>V</code>, <code>Q</code> and <code>U</code>.</p> <p><strong><code>use_tiles</code></strong><br> Switch to using the catalogues and images <code>TILE</code> type instead of the <code>COMBINED</code>. The default is to use the <code>TILE</code> type. Refer to <a href=https://github.com/askap-vast/vast-project/wiki/Pilot-Survey-Status-&-Data target=_blank>this wiki page</a> for an explanation on the two types (askap-vast GitHub membership required to access).</p> <p><strong><code>use_islands</code></strong><br> Query the island catalogues produced by the <a href=https://www.atnf.csiro.au/computing/software/askapsoft/sdp/docs/current/analysis/selavy.html target=_blank><code>selavy</code></a> source finder instead of the component catalogues (default).</p> <div class="admonition warning"> <p class=admonition-title>Warning: Islands selavy catalogues</p> <p><code>flux_peak_err</code> and <code>rms_image</code> are not calculated for islands catalogues. For the purposes of <code>vast-tools</code> we have chosen to use <code>background_noise</code> as a placeholder for both.</p> </div> <p><strong><code>matches_only</code></strong><br> Only return results that have a source match. I.e. no forced fit or upper limit measurements will be returned.</p> <p><strong><code>search_all_fields</code></strong> Return all data available at the source location. If not selected, only the data associated with the best (i.e. closest) field will be returned.</p> <p><strong><code>corrected_data</code> and <code>post_processed_data</code></strong> Use the corrected data (astrometric corrections applied, only available for the pilot survey) or the post-processed data (astrometric corrections and cropping applied, along with the use of compressed images). The default is now to use the post-processed data moving forward.</p> <h4 id=planet-search>Planet Search<a class=headerlink href=#planet-search title="Permanent link">&para;</a></h4> <p>Planets are included in the <code>Query</code> search by using the <code>planets</code> keyword argument.</p> <p><strong><code>planets</code></strong> A python list of planets to include in the <code>Query</code> search. Valid entries are: <code>mercury</code>, <code>venus</code>, <code>mars</code>, <code>jupiter</code>, <code>saturn</code>, <code>uranus</code>, <code>neptune</code>, <code>pluto</code>, <code>sun</code> and <code>moon</code>.</p> <div class="admonition example"> <p class=admonition-title>Example: Including Planets</p> <p>Including Jupiter and the Moon in the search. <div class=highlight><pre><span></span><code><span class=n>my_query</span> <span class=o>=</span> <span class=n>Query</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>planets</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;jupiter&quot;</span><span class=p>,</span> <span class=s2>&quot;moon&quot;</span><span class=p>])</span>
</code></pre></div></p> </div> <h4 id=rms-forced-fits>RMS &amp; Forced Fits<a class=headerlink href=#rms-forced-fits title="Permanent link">&para;</a></h4> <p>These <code>Query</code> arguments control the RMS estimation and forced fitting.</p> <div class="admonition info"> <p class=admonition-title>Info: Forced Fitting</p> <p>The forced fitting is performed using the package <a href=https://github.com/askap-vast/forced_phot target=_blank><code>forced_phot</code></a>.</p> </div> <p><strong><code>no_rms</code></strong> Set to <code>True</code> to not make background <code>rms</code> measurements for each requested position per epoch.</p> <p><strong><code>forced_fits</code></strong> When set to <code>True</code> a forced fit will be produced at each queried location in each requested epoch where possible.</p> <div class="admonition warning"> <p class=admonition-title>Warning: Forced Fits Runtime</p> <p>Be patient with the execution of a <code>Query</code> when using the <code>forced_fits</code> option as it can take a little while to complete.</p> </div> <div class="admonition info"> <p class=admonition-title>Info: Forced Fits Results</p> <p>See the <a href=#forced-fits-results>Forced Fits Results</a> section for details on how the results of the forced fitting are added to the source result.</p> </div> <p><strong><code>forced_cluster_threshold</code></strong> Passed to the <code>cluster_threshold</code> parameter in <a href=https://github.com/askap-vast/forced_phot target=_blank><code>forced_phot</code></a>.</p> <p><strong><code>forced_allow_nan</code></strong> Passed to the <code>allow_nan</code> parameter in <a href=https://github.com/askap-vast/forced_phot target=_blank><code>forced_phot</code></a>.</p> <h4 id=checking-settings>Checking Settings<a class=headerlink href=#checking-settings title="Permanent link">&para;</a></h4> <p>Once the <code>Query</code> has been defined the settings can be checked by viewing the <code>Query.settings</code> attribute as demonstrated below.</p> <div class="admonition example"> <p class=admonition-title>Example: Check Settings</p> <div class=highlight><pre><span></span><code><span class=n>my_coords</span> <span class=o>=</span> <span class=n>SkyCoord</span><span class=p>([</span><span class=mf>206.058966</span><span class=p>,</span> <span class=mf>319.711250</span><span class=p>,</span> <span class=mf>322.438710</span><span class=p>],</span> <span class=p>[</span><span class=mf>0.278384</span><span class=p>,</span> <span class=o>-</span><span class=mf>57.645140</span><span class=p>,</span> <span class=o>-</span><span class=mf>4.486640</span><span class=p>],</span> <span class=n>unit</span><span class=o>=</span><span class=p>(</span><span class=n>u</span><span class=o>.</span><span class=n>deg</span><span class=p>,</span> <span class=n>u</span><span class=o>.</span><span class=n>deg</span><span class=p>))</span>
<span class=n>my_source_names</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;1AXG J134412+0016&quot;</span><span class=p>,</span> <span class=s2>&quot;SN 2012dy&quot;</span><span class=p>,</span> <span class=s2>&quot;PSR J2129-0429&quot;</span><span class=p>]</span>

<span class=n>my_query</span> <span class=o>=</span> <span class=n>Query</span><span class=p>(</span>
    <span class=n>coords</span><span class=o>=</span><span class=n>my_coords</span><span class=p>,</span>
    <span class=n>source_names</span><span class=o>=</span><span class=n>my_source_names</span><span class=p>,</span>
    <span class=n>matches_only</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> 
    <span class=n>epochs</span><span class=o>=</span><span class=s2>&quot;all-vast&quot;</span><span class=p>,</span> 
    <span class=n>crossmatch_radius</span><span class=o>=</span><span class=mf>10.</span><span class=p>,</span> 
    <span class=n>output_dir</span><span class=o>=</span><span class=s1>&#39;source-search-example-output&#39;</span><span class=p>,</span> 
    <span class=n>base_folder</span><span class=o>=</span><span class=s1>&#39;/import/ada1/askap/PILOT/release&#39;</span>
<span class=p>)</span>

<span class=n>my_query</span><span class=o>.</span><span class=n>settings</span>

<span class=p>{</span><span class=s1>&#39;epochs&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;1&#39;</span><span class=p>,</span> <span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=s1>&#39;3x&#39;</span><span class=p>,</span> <span class=s1>&#39;4x&#39;</span><span class=p>,</span> <span class=s1>&#39;5x&#39;</span><span class=p>,</span> <span class=s1>&#39;6x&#39;</span><span class=p>,</span> <span class=s1>&#39;7x&#39;</span><span class=p>,</span> <span class=s1>&#39;8&#39;</span><span class=p>,</span> <span class=s1>&#39;9&#39;</span><span class=p>,</span> <span class=s1>&#39;10x&#39;</span><span class=p>,</span> <span class=s1>&#39;11x&#39;</span><span class=p>],</span>
 <span class=s1>&#39;stokes&#39;</span><span class=p>:</span> <span class=s1>&#39;I&#39;</span><span class=p>,</span>
 <span class=s1>&#39;crossmatch_radius&#39;</span><span class=p>:</span> <span class=o>&lt;</span><span class=n>Angle</span> <span class=mf>10.</span> <span class=n>arcsec</span><span class=o>&gt;</span><span class=p>,</span>
 <span class=s1>&#39;max_sep&#39;</span><span class=p>:</span> <span class=mf>1.5</span><span class=p>,</span>
 <span class=s1>&#39;islands&#39;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
 <span class=s1>&#39;tiles&#39;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
 <span class=s1>&#39;no_rms&#39;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
 <span class=s1>&#39;matches_only&#39;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
 <span class=s1>&#39;search_around&#39;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
 <span class=s1>&#39;sort_output&#39;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
 <span class=s1>&#39;forced_fits&#39;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
 <span class=s1>&#39;output_dir&#39;</span><span class=p>:</span> <span class=s1>&#39;source-search-example-output&#39;</span><span class=p>,</span>
 <span class=s1>&#39;search_all_fields&#39;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,}</span>
</code></pre></div> </div> <h3 id=running-a-query>Running a Query<a class=headerlink href=#running-a-query title="Permanent link">&para;</a></h3> <p>The query does not automatically run once initialised. There are two methods available to launch the query that are detailed below. See the <a href=#using-the-query-results>following section</a> for details on how to use the results from each method.</p> <div class="admonition note"> <p class=admonition-title>Note: No Arguments or Returns</p> <p>All the settings for the <code>Query</code> have already been stored in the object, hence these methods have no possible arguments. In addition, when the queries are launched all the results are saved to the <code>Query</code> object itself. Hence nothing is returned when the the run methods are used.</p> </div> <h4 id=find_fields>find_fields<a class=headerlink href=#find_fields title="Permanent link">&para;</a></h4> <p>This method will only locate the fields that the contains the queried sources/coordinates. The results will be saved to the attribute <code>fields_df</code> in the form of a pandas dataframe.</p> <div class="admonition example"> <p class=admonition-title>Example</p> <div class=highlight><pre><span></span><code><span class=n>my_query</span><span class=o>.</span><span class=n>find_fields</span><span class=p>()</span>
</code></pre></div> </div> <h4 id=find_sources>find_sources<a class=headerlink href=#find_sources title="Permanent link">&para;</a></h4> <p>This method will build upon <code>find_fields</code> and perform the source crossmatching from the <code>selavy</code> catalogues. The results will be stored in the attribute <code>.results</code>, in the format of a pandas series containing <code>vasttools.source.Souce</code> objects with the source name as the key.</p> <div class="admonition example"> <p class=admonition-title>Example</p> <div class=highlight><pre><span></span><code><span class=n>my_query</span><span class=o>.</span><span class=n>find_sources</span><span class=p>()</span>
</code></pre></div> </div> <h3 id=using-the-query-results>Using the Query Results<a class=headerlink href=#using-the-query-results title="Permanent link">&para;</a></h3> <h4 id=find_fields-results>find_fields Results<a class=headerlink href=#find_fields-results title="Permanent link">&para;</a></h4> <p>Each row in the results dataframe, saved to <code>Query.fields_df</code>, represents the result of the queried source for a particular epoch. For example, if the source <code>PSR J2129-04</code> should be present in 5 epochs there will be 5 row. The columns of the dataframe are:</p> <ul> <li><strong><code>name</code></strong> The name of the source/coordinate queried.</li> <li><strong><code>ra</code></strong> The right ascension of the source/coordinate in degrees.</li> <li><strong><code>dec</code></strong> The declination of the source/coordinate in degrees.</li> <li><strong><code>skycoord</code></strong> The <code>SkyCoord</code> representation of the coordinate.</li> <li><strong><code>stokes</code></strong> The stokes parameter of this field.</li> <li><strong><code>fields</code></strong> The complete list of fields the source can be found in.</li> <li><strong><code>primary_field</code></strong> Which VAST Pilot field is considered the main field of the source. Defined by being the field where the source is the closest to the respective fields centre.</li> <li><strong><code>epoch</code></strong> The epoch this row is for.</li> <li><strong><code>field</code></strong> The best field for this epoch (may not be the primary field if that field is not present in the epoch).</li> <li><strong><code>sbid</code></strong> The ASKAP SBID of the field observation.</li> <li><strong><code>dateobs</code></strong> The date and time of the observation.</li> <li><strong><code>planet</code></strong> Set to <code>True</code> if the source/coordinate is a planet that has been requested to search for.</li> </ul> <p>These results can be written to a file by using the <code>Query.write_find_fields()</code> method.</p> <h4 id=find_sources-results>find_sources Results<a class=headerlink href=#find_sources-results title="Permanent link">&para;</a></h4> <p>The <code>find_sources</code> method creates VAST Tools <code>Source</code> objects for each queried coordinate/source and saves these to a pandas <code>Series</code> object that is accessible as <code>Query.results</code>. Below shows an example of what a results series looks like when <code>find_sources</code> has completed.</p> <div class="admonition example"> <p class=admonition-title>Example: Contents of <code>my_query.results</code></p> <p><div class=highlight><pre><span></span><code><span class=n>name</span>
<span class=mi>1</span><span class=n>AXG</span> <span class=n>J134412</span><span class=o>+</span><span class=mi>0016</span>    <span class=o>&lt;</span><span class=n>vasttools</span><span class=o>.</span><span class=n>source</span><span class=o>.</span><span class=n>Source</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f181dea4</span><span class=o>...&gt;</span>
<span class=n>SN</span> <span class=mi>2012</span><span class=n>dy</span>            <span class=o>&lt;</span><span class=n>vasttools</span><span class=o>.</span><span class=n>source</span><span class=o>.</span><span class=n>Source</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f182938d</span><span class=o>...&gt;</span>
<span class=n>PSR</span> <span class=n>J2129</span><span class=o>-</span><span class=mi>0429</span>       <span class=o>&lt;</span><span class=n>vasttools</span><span class=o>.</span><span class=n>source</span><span class=o>.</span><span class=n>Source</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f182938d</span><span class=o>...&gt;</span>
<span class=n>Name</span><span class=p>:</span> <span class=n>name</span><span class=p>,</span> <span class=n>dtype</span><span class=p>:</span> <span class=nb>object</span>
</code></pre></div> <em>Note that the <code>name</code> values are just strings</em>.</p> </div> <p>To access a specific source of the results, the source name is used as a key as demonstrated below.</p> <div class="admonition example"> <p class=admonition-title>Example: Accessing a Specific Source</p> <p>Accessing the source object for SN 2012dy. <div class=highlight><pre><span></span><code><span class=n>my_query</span><span class=o>.</span><span class=n>results</span><span class=p>[</span><span class=s1>&#39;SN 2012dy&#39;</span><span class=p>]</span>
</code></pre></div></p> </div> <p>Please now refer to the <a href=../source/ >Source page</a> of this documentation to learn more about <code>vasttools.source.Source</code> objects, which details how to produce lightcurves, postage stamps and more.</p> <h4 id=forced-fits-results>Forced Fits Results<a class=headerlink href=#forced-fits-results title="Permanent link">&para;</a></h4> <p>If forced fits has been used in the query these results will be placed in the <code>measurements</code> attribute of the <code>Source</code> object (refer to <a href=../source/#sourcemeasurements>here</a> for more details). The following columns will be added:</p> <ul> <li><code>f_island_id</code> An id to the forced extraction island given by <a href=https://github.com/askap-vast/forced_phot target=_blank><code>forced_phot</code></a>.</li> <li><code>f_component_id</code> An id to the forced extraction component given by <code>forced_phot</code>.</li> <li><code>f_ra_deg_cont</code> The right ascension coordinate of the extraction in degrees.</li> <li><code>f_dec_deg_cont</code> The declination coordinate of the extraction in degrees.</li> <li><code>f_flux_peak</code> The measured peak flux of the extraction in mJy/beam.</li> <li><code>f_flux_peak_err</code> The error of the measured peak flux.</li> <li><code>f_flux_int</code> The measured integrated flux of the extraction in mJy. Note this should be equal to the peak flux.</li> <li><code>f_flux_int_err</code> The error of the integrated flux.</li> <li><code>f_chi_squared_fit</code> The <span class=arithmatex>\(\chi^{2}\)</span> value of the fit.</li> <li><code>f_rms_image</code> The rms at the measured position as calculated by <code>forced_phot</code> in mJy.</li> <li><code>f_maj_axis</code> The major axis of the Gaussian used in arcsec.</li> <li><code>f_min_axis</code> The minor axis of the Gaussian used in arcsec.</li> <li><code>f_pos_ang</code> The position angle of the Gaussian used in degrees.</li> </ul> <h2 id=find_sources-script><code>find_sources</code> script<a class=headerlink href=#find_sources-script title="Permanent link">&para;</a></h2> <p>VAST Tools provides the script <code>find_sources</code> that can be accessed from the command line. It is a script that allows for the use of the <code>Query</code> functionality but in a command line environment. This is most useful for large queries that would be non-ideal to perform in a notebook environment. See the <a href=../../scripts/find_sources/ ><code>find_sources</code></a> documentation page for full details.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">August 6, 2024</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">July 28, 2021</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2020 - 2025 Vast Development Team, University of Sydney - all right reserved </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/askap-vast/vast-tools target=_blank rel=noopener title="vast-pipeline source on GitHub" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://vast-survey.org target=_blank rel=noopener title=vast-survey.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M352 256c0 22.2-1.2 43.6-3.3 64H163.4c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64h185.3c2.2 20.4 3.3 41.8 3.3 64zm28.8-64h123.1c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6 78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7 10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5 11.6 26 20.9 58.2 27 94.7zm-209 0H18.6c30-74.1 93.6-130.9 172-151.6-25.5 34.2-45.3 87.7-55.3 151.6zM8.1 192h123.1c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zm186.6 254.6c-11.6-26-20.9-58.2-27-94.6h176.6c-6.1 36.4-15.5 68.6-27 94.6-10.5 23.6-22.2 40.7-33.5 51.5-11.2 10.7-20.5 13.9-27.8 13.9s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6-78.4-20.7-142-77.5-172-151.6h116.7zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6 25.5-34.2 45.2-87.7 55.3-151.6h116.7z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.instant", "navigation.tabs", "navigation.sections"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.fe8b6f2b.min.js></script> <script src=../../theme/js/extra.min.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script>
    var elements = document.getElementsByClassName("lightgallery");
    for(var i=0; i<elements.length; i++) {
       lightGallery(elements[i]);
    }
    </script> </body> </html>